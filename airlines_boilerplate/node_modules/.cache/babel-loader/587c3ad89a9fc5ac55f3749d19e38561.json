{"ast":null,"code":"var _jsxFileName = \"/home/leah101/airlines/airlines_boilerplate/src/App.js\";\nimport React, { Component, useState } from 'react';\nimport './App.css';\nimport flightData from './data.js';\nimport FlightsTable from './components/FlightsTable';\nimport Select from './components/Select';\nconst {\n  routes,\n  getAirlineById,\n  getAirportByCode,\n  getAllAirlineNames,\n  getAllAirportNames,\n  getAirlineIDByName,\n  getAirportCodeByName\n} = flightData;\n\nconst App = () => {\n  const columns = [{\n    name: 'Airline',\n    property: 'airline'\n  }, {\n    name: 'Source Airport',\n    property: 'src'\n  }, {\n    name: 'Destination Airport',\n    property: 'dest'\n  }];\n  const [perPage, updatePerPage] = useState(25);\n  const [selectedAirline, updateSelectedAirline] = useState(\"\");\n  const [selectedAirport, updateSelectedAirport] = useState(\"\");\n  const [displayedRoutes, updateDisplayedRoutes] = useState(routes);\n  const allAirlines = getAllAirlineNames();\n  let airLOptions = allAirlines.map(airline => ({\n    name: airline,\n    disabled: false\n  }));\n  airLOptions.unshift({\n    name: \"\",\n    disabled: true\n  });\n  const [airlineOptions, updateAirlineOptions] = useState(airLOptions);\n  const allAirports = getAllAirportNames();\n  let airPOptions = allAirports.map(airport => ({\n    name: airport,\n    disabled: false\n  }));\n  airPOptions.unshift({\n    name: \"\",\n    disabled: true\n  });\n  const [airportOptions, updateAirportOptions] = useState(airPOptions);\n\n  const filterRoutesByAirline = selectedAirline => {\n    if (selectedAirline !== \"\") {\n      let id = getAirlineIDByName(selectedAirline);\n      return displayedRoutes.filter(route => route.airline === id);\n    } else {\n      return displayedRoutes;\n    }\n  };\n\n  const filterRoutesByAirport = selectedAirport => {\n    if (selectedAirport === \"\") {\n      return displayedRoutes;\n    } else {\n      let code = getAirportCodeByName(selectedAirport);\n      return displayedRoutes.filter(route => route.src === code || route.dest === code);\n    }\n  }; // format property; returns a string:\n  // we get the data from routes?\n  // we want to get the names\n  // we use this on the routes; to get the human data to show \n  // we pass this function, but it's scope allows us to access the data here\n  // so we will be passing the table a row of data to show\n  // table will be given row data; using formatValue to display it\n  // so the row data will be passed:\n  //  - row data will be passed \n  // property; \"src\": \"srcCode\"\n  // we pass the Table the routes as the row data?\n\n\n  function formatValue(property, value) {\n    if (property === 'airline') {\n      return getAirlineById(value).name;\n    } else if (property === 'src' || property === 'dest') {\n      return getAirportByCode(value).name;\n    }\n  }\n\n  function resetSelected(selectElement) {\n    if (selectElement.querySelector(\"[selected]\")) selectElement.querySelector(\"[selected]\").removeAttribute('selected'); // selectElement.firstChild.setAttribute(\"selected\", true)\n  }\n\n  function handleSelectedAirline(event) {\n    event.preventDefault();\n    let selection = event.target;\n    updateSelectedAirline(selection.value);\n    updateDisplayedRoutes([...filterRoutesByAirline(selection.value)]);\n    let options = airlineOptions.map(option => {\n      let {\n        name,\n        disabled\n      } = option;\n\n      if (selection.value && name != selection.value) {\n        option.disabled = true;\n        return option;\n      } else {\n        return option;\n      }\n    });\n    updateAirlineOptions(options);\n  }\n\n  function handleSelectedAirport(event) {\n    event.preventDefault();\n    let selection = event.target;\n    updateSelectedAirport(selection.value);\n    updateDisplayedRoutes([...filterRoutesByAirport(selection.value)]);\n  }\n\n  function clearFilters(event) {\n    event.preventDefault();\n    let selection = event.target;\n    resetSelected(selection);\n    updateSelectedAirport(\"\");\n    updateSelectedAirline(\"\");\n    updateDisplayedRoutes([...routes]);\n    updateAirlineOptions(airLOptions);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, \"Airline Routes\")), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, \"Welcome to the app!\"), /*#__PURE__*/React.createElement(Select, {\n    options: airlineOptions,\n    valueKey: \"id\",\n    titleKey: \"name\",\n    allTitle: \"All Airlines\",\n    value: \"\",\n    onSelect: handleSelectedAirline,\n    labelText: \"Show routes on\",\n    searchFilter: selectedAirline,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    options: allAirports,\n    valueKey: \"id\",\n    titleKey: \"name\",\n    allTitle: \"All Airports\",\n    value: \"\",\n    onSelect: handleSelectedAirport,\n    labelText: \"flying in or out of\",\n    searchFilter: selectedAirport,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FlightsTable, {\n    className: \"routes-table\",\n    columns: columns,\n    rows: displayedRoutes,\n    format: formatValue,\n    perPage: perPage,\n    clearFilters: clearFilters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/leah101/airlines/airlines_boilerplate/src/App.js"],"names":["React","Component","useState","flightData","FlightsTable","Select","routes","getAirlineById","getAirportByCode","getAllAirlineNames","getAllAirportNames","getAirlineIDByName","getAirportCodeByName","App","columns","name","property","perPage","updatePerPage","selectedAirline","updateSelectedAirline","selectedAirport","updateSelectedAirport","displayedRoutes","updateDisplayedRoutes","allAirlines","airLOptions","map","airline","disabled","unshift","airlineOptions","updateAirlineOptions","allAirports","airPOptions","airport","airportOptions","updateAirportOptions","filterRoutesByAirline","id","filter","route","filterRoutesByAirport","code","src","dest","formatValue","value","resetSelected","selectElement","querySelector","removeAttribute","handleSelectedAirline","event","preventDefault","selection","target","options","option","handleSelectedAirport","clearFilters"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport './App.css';\nimport flightData from './data.js'\nimport FlightsTable from './components/FlightsTable';\nimport Select from './components/Select'\n\nconst { routes, getAirlineById, getAirportByCode, getAllAirlineNames, getAllAirportNames, getAirlineIDByName, getAirportCodeByName, } = flightData;\nconst App = () => {\n  const columns = [\n    { name: 'Airline', property: 'airline' },\n    { name: 'Source Airport', property: 'src' },\n    { name: 'Destination Airport', property: 'dest' },\n  ];\n\n  const [perPage, updatePerPage] = useState(25);\n  const [selectedAirline, updateSelectedAirline] = useState(\"\")\n  const [selectedAirport, updateSelectedAirport] = useState(\"\")\n  const [displayedRoutes, updateDisplayedRoutes] = useState(routes)\n  const allAirlines = getAllAirlineNames()\n  let airLOptions = allAirlines.map(airline => ({ name: airline, disabled: false }))\n  airLOptions.unshift({ name: \"\", disabled: true })\n\n  const [airlineOptions, updateAirlineOptions] = useState(airLOptions)\n  const allAirports = getAllAirportNames()\n  let airPOptions = allAirports.map(airport => ({ name: airport, disabled: false }))\n  airPOptions.unshift({ name: \"\", disabled: true })\n  const [airportOptions, updateAirportOptions] = useState(airPOptions)\n\n\n  const filterRoutesByAirline = (selectedAirline) => {\n    if (selectedAirline !== \"\") {\n      let id = getAirlineIDByName(selectedAirline)\n      return displayedRoutes.filter(route => route.airline === id)\n    } else {\n      return displayedRoutes\n    }\n  }\n\n  const filterRoutesByAirport = (selectedAirport) => {\n    if (selectedAirport === \"\") {\n      return displayedRoutes\n    } else {\n      let code = getAirportCodeByName(selectedAirport)\n      return displayedRoutes.filter(route => route.src === code || route.dest === code)\n    }\n\n  }\n\n\n  // format property; returns a string:\n  // we get the data from routes?\n  // we want to get the names\n  // we use this on the routes; to get the human data to show \n  // we pass this function, but it's scope allows us to access the data here\n  // so we will be passing the table a row of data to show\n  // table will be given row data; using formatValue to display it\n  // so the row data will be passed:\n  //  - row data will be passed \n  // property; \"src\": \"srcCode\"\n  // we pass the Table the routes as the row data?\n  function formatValue(property, value) {\n    if (property === 'airline') {\n      return getAirlineById(value).name\n    } else if (property === 'src' || property === 'dest') {\n      return getAirportByCode(value).name\n    }\n  }\n\n  function resetSelected(selectElement) {\n    if (selectElement.querySelector(\"[selected]\")) selectElement.querySelector(\"[selected]\").removeAttribute('selected')\n    // selectElement.firstChild.setAttribute(\"selected\", true)\n  }\n  function handleSelectedAirline(event) {\n    event.preventDefault()\n    let selection = event.target\n    updateSelectedAirline(selection.value)\n    updateDisplayedRoutes([...filterRoutesByAirline(selection.value)])\n    let options = airlineOptions.map(option => {\n      let { name, disabled } = option\n      if (selection.value && name != selection.value) {\n        option.disabled = true\n        return option\n      } else {\n        return option\n      }\n    })\n\n    updateAirlineOptions(options)\n  }\n\n  function handleSelectedAirport(event) {\n    event.preventDefault()\n    let selection = event.target\n    updateSelectedAirport(selection.value)\n    updateDisplayedRoutes([...filterRoutesByAirport(selection.value)])\n\n  }\n\n  function clearFilters(event) {\n    event.preventDefault()\n    let selection = event.target\n    resetSelected(selection)\n\n    updateSelectedAirport(\"\")\n    updateSelectedAirline(\"\")\n    updateDisplayedRoutes([...routes])\n    updateAirlineOptions(airLOptions)\n  }\n\n\n\n  return (\n    <div className=\"app\">\n      <header className=\"header\">\n        <h1 className=\"title\">Airline Routes</h1>\n      </header>\n      <section>\n        <p>\n          Welcome to the app!\n        </p>\n        <Select\n          options={airlineOptions} valueKey=\"id\" titleKey=\"name\"\n          allTitle=\"All Airlines\" value=\"\" onSelect={handleSelectedAirline} labelText=\"Show routes on\" searchFilter={selectedAirline}\n        />\n        <Select\n          options={allAirports} valueKey=\"id\" titleKey=\"name\"\n          allTitle=\"All Airports\" value=\"\" onSelect={handleSelectedAirport} labelText=\"flying in or out of\" searchFilter={selectedAirport}\n        />\n\n        <FlightsTable className=\"routes-table\" columns={columns} rows={displayedRoutes} format={formatValue} perPage={perPage} clearFilters={clearFilters} />\n      </section>\n    </div>\n  )\n\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}